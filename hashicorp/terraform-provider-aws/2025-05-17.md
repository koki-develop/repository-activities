# [hashicorp/terraform-provider-aws](https://github.com/hashicorp/terraform-provider-aws)

## Releases

No releases found

## Pull Requests

| Title | Labels | Summary |
| --- | --- | --- |
| **[[Bug fix] aws_lambda_function: Suppress false persistent diffs on log levels when logging_format = "JSON" and publish = true](https://github.com/hashicorp/terraform-provider-aws/pull/42660)** (_2025/05/17_) | [![size/L](https://img.shields.io/badge/-size/L-27a2b2)](https://github.com/hashicorp/terraform-provider-aws/labels/size/L) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/lambda](https://img.shields.io/badge/-service/lambda-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/lambda) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | このプルリクエストは、`aws_lambda_function`リソースにおけるバグ修正を行います。`logging_format`が`JSON`で`publish`が`true`の場合に、持続的な差分が表示される問題を解決します。この修正により、ログレベルが変更されない限り計画出力に差分が現れないことが確認されました。加えて、受け入れテストも追加されています。 |
| **[d/aws_iam_service_linked_role: new data source can ensure the role exists](https://github.com/hashicorp/terraform-provider-aws/pull/42659)** (_2025/05/17_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/iam](https://img.shields.io/badge/-service/iam-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/iam) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![sweeper](https://img.shields.io/badge/-sweeper-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/sweeper) [![generators](https://img.shields.io/badge/-generators-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/generators) [![external-maintainer](https://img.shields.io/badge/-external--maintainer-63d0ff)](https://github.com/hashicorp/terraform-provider-aws/labels/external-maintainer) | 新しいデータソース「aws_iam_service_linked_role」が追加されました。このデータソースはサービスリンクロールを取得し、`create_if_missing`属性を通じてロールの存在を保証します。これにより、既存アカウントや新規デプロイメントでの一貫性が保たれます。この変更により、複数のモジュールでロールの存在を確保する場合でも、管理が容易になります。 |
| **[[Enhancement] aws_cloudwatch_log_group: Add support for `log_group_class = "DELIVERY"` with retention policy handling](https://github.com/hashicorp/terraform-provider-aws/pull/42658)** (_2025/05/17_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/M](https://img.shields.io/badge/-size/M-3bb3c0)](https://github.com/hashicorp/terraform-provider-aws/labels/size/M) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/logs](https://img.shields.io/badge/-service/logs-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/logs) | AWS SDK for Go v2の更新に伴い、`aws_cloudwatch_log_group`に`log_group_class = "DELIVERY"`のサポートを追加しました。この変更により、`retention_in_days`に関する変更は無視され、AWS APIによって保持期間は強制的に2日間に設定されます。設定に明示的に保持日数を指定しない場合、Terraformはそれを0にリセットしようとし、不要な差異が発生します。 |

## Issues

| Title | Labels | Summary |
| --- | --- | --- |
| **[[Acc tests] aws_lambda_function: Fix acceptance test failures when using older external provider versions](https://github.com/hashicorp/terraform-provider-aws/issues/42661)** (_2025/05/17_) | [![service/lambda](https://img.shields.io/badge/-service/lambda-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/lambda) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | aws_lambda_function のアクセプタンステストが古い外部プロバイダーのバージョン（v4.56.0）を使用しているため、テストが失敗しています。現在のラムダランタイム（nodejs20.x）が古いプロバイダーに対応しておらず、エラーメッセージが表示されています。外部プロバイダーのバージョンを更新する必要がありますが、適切なバージョンについて不明です。 |
| **[[aws_cloudwatch_log_group] log_group_class = "DELIVERY" conflicts with retention policy operations](https://github.com/hashicorp/terraform-provider-aws/issues/42657)** (_2025/05/17_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/logs](https://img.shields.io/badge/-service/logs-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/logs) | ロググループのクラスが「DELIVERY」の場合、Terraformでの保持ポリシー設定がエラーを引き起こします。「DELIVERY」指定時に`retention_in_days`が無視されるべきですが、実際には設定が存在する場合にエラーが発生します。この動作を修正する必要があります。 |

