# [hashicorp/terraform-provider-aws](https://github.com/hashicorp/terraform-provider-aws)

## Releases

No releases found

## Pull Requests

| Title | Labels | Summary |
| --- | --- | --- |
| **[aws_sagemaker_image_version add support for aliases](https://github.com/hashicorp/terraform-provider-aws/pull/42609)** (_2025/05/14_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/sagemaker](https://img.shields.io/badge/-service/sagemaker-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/sagemaker) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | aws_sagemaker_image_versionリソースにエイリアスのサポートを追加するPRです。AWS SDKにエイリアスフィールドがないため、リソースの読み取り処理をリファクタリングしました。この変更は#35931をクローズします。テスト結果も正常にパスしています。 |
| **[[Enhancement] aws_glue_job: Add `job_mode` argument](https://github.com/hashicorp/terraform-provider-aws/pull/42607)** (_2025/05/13_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/M](https://img.shields.io/badge/-size/M-3bb3c0)](https://github.com/hashicorp/terraform-provider-aws/labels/size/M) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/glue](https://img.shields.io/badge/-service/glue-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/glue) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | このプルリクエストでは、`aws_glue_job` に `job_mode` 引数が追加されました。この変更により、AWS Glueジョブの設定がより柔軟になります。関連する問題を解決し、テストも正常にパスしました。詳細はAWSの公式ドキュメントで確認できます。 |
| **[b/sagemaker_image_version-use-version-in-id](https://github.com/hashicorp/terraform-provider-aws/pull/42606)** (_2025/05/13_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/L](https://img.shields.io/badge/-size/L-27a2b2)](https://github.com/hashicorp/terraform-provider-aws/labels/size/L) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/sagemaker](https://img.shields.io/badge/-service/sagemaker-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/sagemaker) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | このプルリクエストでは、`aws_sagemaker_image_version`が画像名とバージョン番号の両方で画像バージョンを識別できるように変更されています。これにより、設定とデプロイされたリソースの間のあいまいな関係を避けることができます。関連する問題をクローズします。テストも成功しています。 |
| **[r/aws_imagebuilder_distribution_configuration: support for ssm_parameter_configuration](https://github.com/hashicorp/terraform-provider-aws/pull/42604)** (_2025/05/13_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/L](https://img.shields.io/badge/-size/L-27a2b2)](https://github.com/hashicorp/terraform-provider-aws/labels/size/L) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/imagebuilder](https://img.shields.io/badge/-service/imagebuilder-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/imagebuilder) | AWS ImageBuilder Distribution Configurationリソースに、ssm_parameter_configurationサポートを追加する変更です。この機能により、配布されたAMI IDをAWS Systems Manager Parameter Storeに自動的に格納でき、他のリソースとの自動化や統合が容易になります。新たに、パラメータ名やアカウントID、データタイプの設定が可能です。 |
| **[Enhancement: Make updating a Bedrock Agent Alias create a new version](https://github.com/hashicorp/terraform-provider-aws/pull/42603)** (_2025/05/13_) | [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![partner](https://img.shields.io/badge/-partner-ff9900)](https://github.com/hashicorp/terraform-provider-aws/labels/partner) [![service/bedrockagent](https://img.shields.io/badge/-service/bedrockagent-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/bedrockagent) | Bedrockエージェントエイリアスの更新時に新しいバージョンを生成するため、`routing_configuration`での`UseStateForUnknown`を削除しました。この変更により、説明を更新するだけで新バージョンが作成されるようになります。変更が必要な場合は、ライブラリの更新版を発行する計画です。 |
| **[AWS Billing and Cost Management services are global](https://github.com/hashicorp/terraform-provider-aws/pull/42602)** (_2025/05/13_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/S](https://img.shields.io/badge/-size/S-4ec3ce)](https://github.com/hashicorp/terraform-provider-aws/labels/size/S) [![service/budgets](https://img.shields.io/badge/-service/budgets-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/budgets) [![service/pricing](https://img.shields.io/badge/-service/pricing-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/pricing) [![generators](https://img.shields.io/badge/-generators-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/generators) [![service/ce](https://img.shields.io/badge/-service/ce-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/ce) [![service/cur](https://img.shields.io/badge/-service/cur-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cur) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) [![service/costoptimizationhub](https://img.shields.io/badge/-service/costoptimizationhub-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/costoptimizationhub) [![service/bcmdataexports](https://img.shields.io/badge/-service/bcmdataexports-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/bcmdataexports) [![service/billing](https://img.shields.io/badge/-service/billing-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/billing) | このプルリクエストでは、AWS Billing and Cost Managementサービスを「グローバル」としてマークする変更が提案されています。問題番号42599に関連し、変更が必要な場合はライブラリの新バージョンを公開する計画です。セキュリティコントロールの変更はありません。 |
| **[Adds required PCI verbiage to PR template](https://github.com/hashicorp/terraform-provider-aws/pull/42600)** (_2025/05/13_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![repository](https://img.shields.io/badge/-repository-828a90)](https://github.com/hashicorp/terraform-provider-aws/labels/repository) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | PRテンプレートに必要なPCI関連の文言を追加する内容です。この変更は特定の問題を解決し、関連するテストが行われたことが示されています。テストは正常に実行されています。 |
| **[feat: update max length for bedrock agent instructions to 20k](https://github.com/hashicorp/terraform-provider-aws/pull/42596)** (_2025/05/13_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![service/bedrockagent](https://img.shields.io/badge/-service/bedrockagent-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/bedrockagent) | AWSがBedrockエージェントの指示文字数の最大制限を8000から20000に引き上げたため、Terraformプロバイダーがこの変更に対応しました。これにより、`instruction`引数の設定範囲が40から20000文字に拡大されます。関連するバグ修正とテストも完了しています。 |
| **[r/aws_ssm_parameter: update `version` attr when `description` arg changes](https://github.com/hashicorp/terraform-provider-aws/pull/42595)** (_2025/05/13_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![service/ssm](https://img.shields.io/badge/-service/ssm-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/ssm) | このプルリクエストは、`description`引数が変更されたときに`version`属性を更新するAWSの挙動を反映させるものです。これにより、関連する問題（#42594）が修正されます。 |
| **[New Resource `aws_nat_gateway_eip_association`](https://github.com/hashicorp/terraform-provider-aws/pull/42591)** (_2025/05/13_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![new-resource](https://img.shields.io/badge/-new--resource-8040c9)](https://github.com/hashicorp/terraform-provider-aws/labels/new-resource) [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![generators](https://img.shields.io/badge/-generators-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/generators) [![service/vpc](https://img.shields.io/badge/-service/vpc-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/vpc) [![partner](https://img.shields.io/badge/-partner-ff9900)](https://github.com/hashicorp/terraform-provider-aws/labels/partner) | 新しいリソース `aws_nat_gateway_eip_association` が追加され、NATゲートウェイとEIPの関連付けを個別に管理できるようになります。これにより、従来は関連付けを解除できなかったEIPリソースの削除が可能になります。テストも成功しています。 |

## Issues

| Title | Labels | Summary |
| --- | --- | --- |
| **[Allow aws_codepipeline_webhook to use Github App Auth same as Github Provider Auth block](https://github.com/hashicorp/terraform-provider-aws/issues/42608)** (_2025/05/13_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![service/codepipeline](https://img.shields.io/badge/-service/codepipeline-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/codepipeline) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | aws_codepipeline_webhookリソースをGithub App Authで使用する際にトークンが利用できず、APIがトークンを期待している問題についての報告です。App_Id、Installation_Id、Private_Keyを使用する際のトークンの渡し方が分からないとのことです。エラーメッセージや設定例が記載されています。 |
| **[aws_sagemaker_image_version id is based only on name, should rely on version too.](https://github.com/hashicorp/terraform-provider-aws/issues/42605)** (_2025/05/13_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/sagemaker](https://img.shields.io/badge/-service/sagemaker-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/sagemaker) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | aws_sagemaker_image_versionリソースは、同じimage_nameでも異なるバージョンを適切に識別できず、複数のリソースを管理する際に混乱を招いています。このため、リソースの削除と再作成を繰り返す問題が発生します。バージョンも含めてIDを正確に設定する必要があります。修正の提案もされています。 |
| **[Add JobMode parameter for Glue Jobs](https://github.com/hashicorp/terraform-provider-aws/issues/42601)** (_2025/05/13_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![service/glue](https://img.shields.io/badge/-service/glue-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/glue) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | AWS Glueジョブに対してJobModeパラメータを設定できない問題が指摘されています。現在は常にSCRIPTモードで作成されており、AWS APIにはJobModeが存在します。この機能をTerraformリソースに追加することが求められています。 |
| **[AWS Billing and Cost Management resources are global](https://github.com/hashicorp/terraform-provider-aws/issues/42599)** (_2025/05/13_) |  | AWSのBilling and Cost Managementサービスのリソースはグローバルであることが報告されています。具体的なリソースには、`bcmdataexport`、`ce`、`cur`、`costoptimizationhub`、`budgets`、`pricing`が含まれます。 |
| **[resource/aws_redshift_cluster: The AWS default for `encrypted` is `true` but provider defaults to `false`](https://github.com/hashicorp/terraform-provider-aws/issues/42598)** (_2025/05/13_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/redshift](https://img.shields.io/badge/-service/redshift-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/redshift) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | AWSのデフォルトである`encrypted`設定が`true`であるべきですが、Terraformプロバイダーでは`false`になっており、一貫性の欠如とCIの失敗を引き起こしています。設定を明示的に`true`にしない限り、恒久的な差異が生まれます。 |
| **[Allow for Exclusion OU's in aws_securityhub_configuration_policy_association](https://github.com/hashicorp/terraform-provider-aws/issues/42597)** (_2025/05/13_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![service/securityhub](https://img.shields.io/badge/-service/securityhub-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/securityhub) | aws_securityhub_configuration_policy_associationリソースは、特定のスコープやアカウント、OUを除外できるようにする改善が求められています。これは、レガシーアカウントが存在する場合に有用です。構成例も示されています。 |
| **[`aws_ssm_parameter` doesn't anticipate version change when `description` changes](https://github.com/hashicorp/terraform-provider-aws/issues/42594)** (_2025/05/13_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/ssm](https://img.shields.io/badge/-service/ssm-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/ssm) | `aws_ssm_parameter`リソースの`description`を変更しても、バージョンが変わることが期待されますが、実際には次回のapply/refreshプランまでバージョンの変更が反映されないという問題があります。この動作はドキュメントに記載されておらず、リソースの依存関係に影響を及ぼす可能性があります。修正を希望しています。 |
| **[s3_control_access_point_policy error](https://github.com/hashicorp/terraform-provider-aws/issues/42593)** (_2025/05/13_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/s3control](https://img.shields.io/badge/-service/s3control-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/s3control) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | ユーザーは、Terraformを使用してS3アクセス地点のポリシーを作成しようとしたが、404エラーが発生し、ポリシーの取得に失敗したと報告しています。具体的には、S3 Controlの操作がサポートされていないため、ポリシーの読み取りができなかったとのことです。 |
| **[ElastiCache global replica incorrectly tries to change engine type from valkey to redis](https://github.com/hashicorp/terraform-provider-aws/issues/42592)** (_2025/05/13_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/elasticache](https://img.shields.io/badge/-service/elasticache-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/elasticache) | ElastiCacheのグローバルレプリカを作成すると、Terraformがエンジンを「valkey」から「redis」に変更しようとします。これが競合エラーを引き起こし、毎回リソースを置き換えようとします。この問題はValkeyというRedis互換エンジン特有のもので、期待される動作とは異なります。 |
| **[Direct Connect virtual interface resource name arguments incorrectly force replacement](https://github.com/hashicorp/terraform-provider-aws/issues/42590)** (_2025/05/13_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/directconnect](https://img.shields.io/badge/-service/directconnect-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/directconnect) | Direct Connectの仮想インターフェースリソースにおいて、`name`属性の変更がリソースの破壊的な置き換えを要求する挙動が報告されています。これは、`name`が単なるラベルであり、他のAWSサービスのように基本的な識別子ではないため、非破壊的に変更できるべきだという期待に反しています。 |
| **[Add support for new AWS Budget functionality to aws_budgets_budget](https://github.com/hashicorp/terraform-provider-aws/issues/42589)** (_2025/05/13_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![service/budgets](https://img.shields.io/badge/-service/budgets-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/budgets) | AWS Budgetsの新機能であるフィルタリングとコスト集計のサポートを、`aws_budgets_budget`リソースに追加してほしいという要望です。現在、手動で新機能を有効にすると、次回の計画で差分が表示され、元に戻されてしまいます。コストフィルターやコストタイプの名称変更を避け、新機能を追加することが提案されています。 |

