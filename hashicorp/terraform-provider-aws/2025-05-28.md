# [hashicorp/terraform-provider-aws](https://github.com/hashicorp/terraform-provider-aws)

## Releases

No releases found

## Pull Requests

| Title | Labels | Summary |
| --- | --- | --- |
| **[Resolve `cloudfrontkeyvaluestore_keys_exclusive` being blocked by service quotas with large number of key value pairs](https://github.com/hashicorp/terraform-provider-aws/pull/42795)** (_2025/05/28_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/L](https://img.shields.io/badge/-size/L-27a2b2)](https://github.com/hashicorp/terraform-provider-aws/labels/size/L) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![external-maintainer](https://img.shields.io/badge/-external--maintainer-63d0ff)](https://github.com/hashicorp/terraform-provider-aws/labels/external-maintainer) [![service/cloudfrontkeyvaluestore](https://img.shields.io/badge/-service/cloudfrontkeyvaluestore-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cloudfrontkeyvaluestore) | このプルリクエストは、AWS APIのサービスクォータ例外の問題を解決します。50以上のキー・バリューを一度に更新する際に発生するエラーを修正しています。セキュリティ制御の変更はありません。テストも成功しています。関連するIssueをクローズします。 |
| **[Tech debt: Use AutoFlEx for `aws_rds_export_task`](https://github.com/hashicorp/terraform-provider-aws/pull/42794)** (_2025/05/28_) | [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/rds](https://img.shields.io/badge/-service/rds-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/rds) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストでは、`aws_rds_export_task`リソースを`terraform-plugin-framework`からAutoFlExにリファクタリングしています。これにより、コードの整理と保守性が向上することが期待されます。関連する問題やプルリクエストも示されています。テストは成功しています。 |
| **[r/aws_cognitoidp_user_pool: prevent crash with certain `user_pool_add_ons` values](https://github.com/hashicorp/terraform-provider-aws/pull/42793)** (_2025/05/28_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![crash](https://img.shields.io/badge/-crash-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/crash) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![service/cognitoidp](https://img.shields.io/badge/-service/cognitoidp-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cognitoidp) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストは、`user_pool_add_ons.advanced_security_additional_flows`ブロックが空でない場合にクラッシュを防ぐ修正を行います。特に、単一の`nil`値のみを含む場合に発生するバグを修正しました。また、関連するテストも通過しています。 |
| **[Tech debt: Use `arn.ARN` instead of `fmt.Sprintf` to construct ARN strings](https://github.com/hashicorp/terraform-provider-aws/pull/42791)** (_2025/05/28_) | [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![technical-debt](https://img.shields.io/badge/-technical--debt-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/technical-debt) [![service/eks](https://img.shields.io/badge/-service/eks-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/eks) [![service/datasync](https://img.shields.io/badge/-service/datasync-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/datasync) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストでは、ARN文字列を構築する際に`fmt.Sprintf`の代わりに`arn.ARN`を使用するように変更する技術的負債の解消が提案されています。テストも正常に実行されており、セキュリティコントロールに関する変更はありません。変更が必要な場合は、ライブラリの更新版を公開する計画です。 |
| **[Update aws_backup_region_settings documentation](https://github.com/hashicorp/terraform-provider-aws/pull/42787)** (_2025/05/28_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![service/backup](https://img.shields.io/badge/-service/backup-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/backup) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | aws_backup_region_settingsリソースのドキュメントを更新しました。最近追加されたサービスを追加し、AWSドキュメントへのリンクも更新しています。関連リンクも提供しています。 |
| **[r/aws_s3_bucket: Ensure that `HeadBucket` S3 API calls are made using configured credentials](https://github.com/hashicorp/terraform-provider-aws/pull/42786)** (_2025/05/28_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![regression](https://img.shields.io/badge/-regression-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/regression) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![service/s3](https://img.shields.io/badge/-service/s3-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/s3) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストは、`HeadBucket` S3 API呼び出しが設定された資格情報を使用して行われるように修正します。`v5.98.0`の回帰を修正し、`aws_s3_bucket`リソースがデータソースと同様のロジックを使用するようになります。関連する問題を解決し、受け入れテストの結果も記載されています。 |
| **[`aws-sdk-go-v2` updates (Release 2025-05-27)](https://github.com/hashicorp/terraform-provider-aws/pull/42785)** (_2025/05/28_) | [![dependencies](https://img.shields.io/badge/-dependencies-1c7ada)](https://github.com/hashicorp/terraform-provider-aws/labels/dependencies) [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![go](https://img.shields.io/badge/-go-16e2e2)](https://github.com/hashicorp/terraform-provider-aws/labels/go) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストは、`aws-sdk-go-v2`の依存関係を手動で更新し、リリース2025-05-27に対応する内容です。以前の依存関係の更新が失敗したため行われました。関連するイシューへのリンクも含まれています。全ての受け入れテストは成功しました。 |
| **[F aws workspacesweb user settings](https://github.com/hashicorp/terraform-provider-aws/pull/42783)** (_2025/05/28_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![tags](https://img.shields.io/badge/-tags-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/tags) [![generators](https://img.shields.io/badge/-generators-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/generators) [![service/workspacesweb](https://img.shields.io/badge/-service/workspacesweb-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/workspacesweb) [![partner](https://img.shields.io/badge/-partner-ff9900)](https://github.com/hashicorp/terraform-provider-aws/labels/partner) | 新しいリソース「aws_workspacesweb_user_settings」が追加されました。この変更は、リポジトリの#23489に部分的に対応しています。テストが行われ、すべてのテストが成功しました。必要に応じて、ライブラリのバージョンを更新してリバートが可能です。 |

## Issues

| Title | Labels | Summary |
| --- | --- | --- |
| **[DynamoDB - adding a replica leads to 'validation error detected: Invalid AWS region'](https://github.com/hashicorp/terraform-provider-aws/issues/42792)** (_2025/05/28_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/dynamodb](https://img.shields.io/badge/-service/dynamodb-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/dynamodb) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | DynamoDBのレプリカ追加時に「無効なAWSリージョン」というエラーが発生し、適用が失敗します。一度レプリカを削除することで管理可能になりますが、再度追加すると同様のエラーとなります。この問題は特定のTerraformとAWSプロバイダーのバージョンに関連しているようです。 |
| **[Cloudformation specific YAML encode function to validate template before using `aws_cloudformation_stack`](https://github.com/hashicorp/terraform-provider-aws/issues/42790)** (_2025/05/28_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![service/cloudformation](https://img.shields.io/badge/-service/cloudformation-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cloudformation) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![function](https://img.shields.io/badge/-function-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/function) | CloudFormationスタックのYAMLが正しい形式でない場合があるため、初期化や計画フェーズでのエラー発生を防ぐために、プロバイダーにYAMLを検証する関数の追加を提案しています。外部ツールを使用せずに、テンプレートの整合性を確認できる機能が望まれています。 |
| **[`aws_cloudfrontkeyvaluestore_keys_exclusive`:  Maximum key values pairs service quota](https://github.com/hashicorp/terraform-provider-aws/issues/42789)** (_2025/05/28_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/cloudfront](https://img.shields.io/badge/-service/cloudfront-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cloudfront) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/cloudfrontkeyvaluestore](https://img.shields.io/badge/-service/cloudfrontkeyvaluestore-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cloudfrontkeyvaluestore) | `aws_cloudfrontkeyvaluestore_keys_exclusive` リソースは、50個を超える `resource_key_value_pair` ブロックを定義すると、AWS APIからサービスの制限を超えたというエラーが発生します。期待される動作は、任意の数のキー値ペアを処理することです。この問題の解決を希望しています。 |
| **[aws_cloudformation_stack_instances ignores operation_preferences on update](https://github.com/hashicorp/terraform-provider-aws/issues/42788)** (_2025/05/28_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/cloudformation](https://img.shields.io/badge/-service/cloudformation-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cloudformation) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | aws_cloudformation_stack_instancesリソースが更新時にoperation_preferencesやタイムアウトを無視する問題が報告されています。これにより、期待通りに動作しない事例が発生しています。デフォルトの設定では変更が検出されても、指定した設定が適用されません。 |
| **[Add support to `aws_vpn_connection` for write-only preshared_key arguments](https://github.com/hashicorp/terraform-provider-aws/issues/42784)** (_2025/05/28_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/vpnsite](https://img.shields.io/badge/-service/vpnsite-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/vpnsite) | `aws_vpn_connection`リソースにおいて、`tunnel1_preshared_key`と`tunnel2_preshared_key`をオプションで書き込み専用引数としてサポートしてほしいという要望です。特に、同じTerraformワークスペースでVPN双方を設定する場合、`ephemeral.random_password`を使ってIPSecのプリシェアキーを提供できると便利です。 |
| **[`aws_api_gateway_resource` update to `path_part` requires applying twice to update attribute `path`](https://github.com/hashicorp/terraform-provider-aws/issues/42782)** (_2025/05/28_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/apigateway](https://img.shields.io/badge/-service/apigateway-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/apigateway) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | `aws_api_gateway_resource` の `path_part` を更新する際、変更を適用するために2回の apply が必要です。最初の apply では依存するリソースが正しく更新されず、2回目の apply でようやく期待通りのリソースが作成されます。この問題は、Terraform のバージョン依存の可能性があります。 |
| **[[Docs] Secrets Manager Data Source Attribute Reference Descriptions](https://github.com/hashicorp/terraform-provider-aws/issues/42781)** (_2025/05/28_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | Secrets Manager Secret Rotationデータソースの「属性参照」セクションの説明がすべて誤っているとの指摘があります。リソースのバージョンでは、これらの属性は正しく定義されています。修正の実装は希望されていません。 |

