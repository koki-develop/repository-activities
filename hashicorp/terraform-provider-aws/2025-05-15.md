# [hashicorp/terraform-provider-aws](https://github.com/hashicorp/terraform-provider-aws)

## Releases

| Title | Summary |
| --- | --- |
| **[v5.98.0](https://github.com/hashicorp/terraform-provider-aws/releases/tag/v5.98.0)** (_2025/05/15_) | v5.98.0では、新たに複数のデータソースやリソースが追加されました。主な追加項目に、`aws_account_primary_contact`や`aws_dynamodb_tables`、`aws_bedrockagent_prompt`などがあります。また、既存リソースに対する属性の追加やバグ修正も行われています。特に、AWSリソースの設定がより詳細に行えるよう改善されています。 |

## Pull Requests

| Title | Labels | Summary |
| --- | --- | --- |
| **[[Enhancement] aws_cognito_user_pool: Update `name` attribute without resource replacement](https://github.com/hashicorp/terraform-provider-aws/pull/42639)** (_2025/05/15_) | [![size/S](https://img.shields.io/badge/-size/S-4ec3ce)](https://github.com/hashicorp/terraform-provider-aws/labels/size/S) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/cognitoidp](https://img.shields.io/badge/-service/cognitoidp-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cognitoidp) | aws_cognito_user_poolリソースの`name`属性をリソースの置き換えなしに更新できるようにする変更が提案されています。これにより、属性変更時の手間が軽減されます。また、更新が適切に行われることを確認するために受け入れテストも追加されました。 |
| **[Support Valkey upgrades on elasticache_global_replication_group](https://github.com/hashicorp/terraform-provider-aws/pull/42636)** (_2025/05/15_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/elasticache](https://img.shields.io/badge/-service/elasticache-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/elasticache) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | ElastiCacheのグローバルレプリケーショングループにおいて、Valkeyエンジンのアップグレードをサポートするための変更を行いました。これにより、エンジンの明示的な設定が可能になり、Terraformによる管理が改善されます。デフォルトのエンジン値は削除され、変更に対するプランへの影響を抑えます。これに伴い、ドキュメントも更新されました。 |
| **[docs: add default values recommendation](https://github.com/hashicorp/terraform-provider-aws/pull/42635)** (_2025/05/15_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストでは、プロバイダー側のデフォルト値の使用に関する推奨事項が文書化されました。一般的に、サーバー側のデフォルトを持つ引数は、AWSから返された値を保存するべきであり、プロバイダー側のデフォルトを設定しない方が望ましいとされています。 |
| **[Align `make` between v5 and v6](https://github.com/hashicorp/terraform-provider-aws/pull/42634)** (_2025/05/15_) | [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![repository](https://img.shields.io/badge/-repository-828a90)](https://github.com/hashicorp/terraform-provider-aws/labels/repository) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストは、v5とv6のMakefileを整合させるものです。もし変更を元に戻す必要がある場合は、ライブラリの更新版を公開します。受け入れテストでは、プルリクエストのターゲットチェックが成功しています。関係するプルリクエストもいくつかあります。 |
| **[Fix CI deps checks on main](https://github.com/hashicorp/terraform-provider-aws/pull/42633)** (_2025/05/15_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/M](https://img.shields.io/badge/-size/M-3bb3c0)](https://github.com/hashicorp/terraform-provider-aws/labels/size/M) [![repository](https://img.shields.io/badge/-repository-828a90)](https://github.com/hashicorp/terraform-provider-aws/labels/repository) [![github_actions](https://img.shields.io/badge/-github__actions-000000)](https://github.com/hashicorp/terraform-provider-aws/labels/github_actions) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) [![no-changelog-needed](https://img.shields.io/badge/-no--changelog--needed-828a90)](https://github.com/hashicorp/terraform-provider-aws/labels/no-changelog-needed) | このプルリクエストは、CIワークフローの依存関係チェックを修正し、プルリクエストの実際の変更を正確に検証できるようにします。従来の設定では依存関係の問題が見逃されていました。また、特定の場所を除いてpull_request_targetの使用を制限するチェックを追加しました。 |
| **[resource/aws_redshift_cluster: Update default value of `encrypted` to `true` to match AWS default](https://github.com/hashicorp/terraform-provider-aws/pull/42631)** (_2025/05/15_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XL](https://img.shields.io/badge/-size/XL-1492a4)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XL) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/redshift](https://img.shields.io/badge/-service/redshift-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/redshift) [![service/dms](https://img.shields.io/badge/-service/dms-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/dms) [![service/redshiftdata](https://img.shields.io/badge/-service/redshiftdata-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/redshiftdata) [![service/pipes](https://img.shields.io/badge/-service/pipes-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/pipes) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | AWS Redshiftクラスターの`encrypted`のデフォルト値を`true`に変更し、暗号化のデフォルト動作に一致させるPRです。また、作成時に`false`に設定できないバグを修正し、受け入れテストの不必要なアベイラビリティゾーン制限を削除します。 |
| **[[New Data Source] aws_cloudfront_key_value_store](https://github.com/hashicorp/terraform-provider-aws/pull/42630)** (_2025/05/15_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/L](https://img.shields.io/badge/-size/L-27a2b2)](https://github.com/hashicorp/terraform-provider-aws/labels/size/L) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![service/cloudfront](https://img.shields.io/badge/-service/cloudfront-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cloudfront) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![generators](https://img.shields.io/badge/-generators-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/generators) | 新しいデータソース「aws_cloudfront_key_value_store」を追加しました。このデータソースはCloudFrontのKey Value StoreのARNなどの属性を取得するもので、既存のKey Value Storeを扱いやすくします。テストも成功しました。関連するIssue #42530をクローズします。 |
| **[add note about ipv6](https://github.com/hashicorp/terraform-provider-aws/pull/42629)** (_2025/05/15_) | [![documentation](https://img.shields.io/badge/-documentation-f4ecff)](https://github.com/hashicorp/terraform-provider-aws/labels/documentation) [![size/XS](https://img.shields.io/badge/-size/XS-62d4dc)](https://github.com/hashicorp/terraform-provider-aws/labels/size/XS) [![provider](https://img.shields.io/badge/-provider-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/provider) | IPv6に関する注意点を追加する内容のPull Requestです。チュートリアルリンクの更新と、TFEがv202505でIPv6をサポートすると主張しているが、一部AWSサービスはIPv6をサポートしていないことを記載しています。 |
| **[Add `TestAccTimestreamInfluxDBDBInstance_upgradeV5_90_0`](https://github.com/hashicorp/terraform-provider-aws/pull/42628)** (_2025/05/15_) | [![size/M](https://img.shields.io/badge/-size/M-3bb3c0)](https://github.com/hashicorp/terraform-provider-aws/labels/size/M) [![tests](https://img.shields.io/badge/-tests-60dea9)](https://github.com/hashicorp/terraform-provider-aws/labels/tests) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) [![service/timestreaminfluxdb](https://img.shields.io/badge/-service/timestreaminfluxdb-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/timestreaminfluxdb) | 新たに `TestAccTimestreamInfluxDBDBInstance_upgradeV5_90_0` の受け入れテストを追加しました。このテストは、報告された `aws_timestreaminfluxdb_db_instance` の **v5.91.0** の回帰を再現しようとしましたが、問題は再現できませんでした。関連する問題についても言及されています。 |
| **[resource/aws_s3_bucket_lifecycle_configuration: Fixes `filter` validation to allow empty block](https://github.com/hashicorp/terraform-provider-aws/pull/42624)** (_2025/05/15_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![size/L](https://img.shields.io/badge/-size/L-27a2b2)](https://github.com/hashicorp/terraform-provider-aws/labels/size/L) [![service/s3](https://img.shields.io/badge/-service/s3-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/s3) [![prioritized](https://img.shields.io/badge/-prioritized-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/prioritized) | このプルリクエストは、`filter` のバリデーションを修正し、空のブロックを許可するようにしたものです。また、関連する複数の問題をクローズします。テストではすべてのケースが成功しました。 |

## Issues

| Title | Labels | Summary |
| --- | --- | --- |
| **[Tags ignored by prefix are still applied](https://github.com/hashicorp/terraform-provider-aws/issues/42638)** (_2025/05/15_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/sqs](https://img.shields.io/badge/-service/sqs-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/sqs) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | タグのプレフィックスを無視すると設定したにもかかわらず、Terraformがプレフィックスに基づくタグの値を毎回更新しようとする問題が発生しています。リソースレベルでの無視設定は機能しますが、プロバイダー設定の無視タグが期待通りに機能せず、計画実行時に変更が提案されてしまいます。 |
| **[Support multi-region strong consistency for DynamoDB global tables](https://github.com/hashicorp/terraform-provider-aws/issues/42637)** (_2025/05/15_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | DynamoDBは、2024年のre:inventでマルチリージョン強整合性のプレビューを発表しました。この機能をGA版でサポートするための実装が求められています。影響を受けるリソースは`dynamodb_table_replica`です。 |
| **[Add an `ignore` block to `_exclusive` resources](https://github.com/hashicorp/terraform-provider-aws/issues/42632)** (_2025/05/15_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![proposal](https://img.shields.io/badge/-proposal-d1ebff)](https://github.com/hashicorp/terraform-provider-aws/labels/proposal) [![service/route53](https://img.shields.io/badge/-service/route53-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/route53) | `_exclusive` リソースに `ignore` ブロックを追加する提案です。この機能により、異なる Terraform ワークスペースや外部の自動化ソースが同じリソースを管理できるようになります。これにより、意図しないリソースの削除などのリスクを軽減できることが期待されます。影響を受けるのは全ての `_exclusive` リソースです。 |
| **[Support renaming of aws_cognito_user_pool](https://github.com/hashicorp/terraform-provider-aws/issues/42627)** (_2025/05/15_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/cognitoidp](https://img.shields.io/badge/-service/cognitoidp-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/cognitoidp) | aws_cognito_user_poolの名前を更新すると、Terraformが強制的に再作成を行うため、インプレースでの変更ができません。この問題の改善が求められています。 |
| **[Support importing existing AWS Inspector configurations into Terraform](https://github.com/hashicorp/terraform-provider-aws/issues/42626)** (_2025/05/15_) | [![enhancement](https://img.shields.io/badge/-enhancement-844fba)](https://github.com/hashicorp/terraform-provider-aws/labels/enhancement) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) [![service/inspector2](https://img.shields.io/badge/-service/inspector2-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/inspector2) | AWS Inspectorの設定をTerraformにインポートする機能が求められています。現在、AWSコンソールから有効化は可能ですが、既存の設定をTerraformステートにインポートすることはサポートされていません。関連リソースは`aws_inspector2_enabler`です。 |
| **[Retain API GW Deployment History for Stage](https://github.com/hashicorp/terraform-provider-aws/issues/42625)** (_2025/05/15_) | [![bug](https://img.shields.io/badge/-bug-ec585d)](https://github.com/hashicorp/terraform-provider-aws/labels/bug) [![service/apigateway](https://img.shields.io/badge/-service/apigateway-7b42bc)](https://github.com/hashicorp/terraform-provider-aws/labels/service/apigateway) [![needs-triage](https://img.shields.io/badge/-needs--triage-dc477d)](https://github.com/hashicorp/terraform-provider-aws/labels/needs-triage) | API Gatewayのデプロイメント履歴がTerraformで作成した際に保持されない問題についての報告です。コンソールからのデプロイでは最新のIDが保持される一方、Terraformでは新しいIDで上書きされ、過去のIDが消えてしまいます。これはロールバックの際に不便です。希望としては、Terraformでも過去のIDを保持できるように改善を求めています。 |

